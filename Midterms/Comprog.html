<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computer Programming Reviewer</title>
    <!-- Load Tailwind CSS for utility classes (as per standard environment requirement) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Base Styling - Custom CSS Variables kept for original aesthetic */
        :root {
            --bg-color-light: #f4f7f6;
            --text-color-light: #2c3e50;
            --container-bg-light: #ffffff;
            --primary-color-light: #3498db;
            --secondary-color-light: #2980b9;
            --correct-color: #27ae60;
            --incorrect-color: #e74c3c;
            --border-color-light: #bdc3c7;
            --shadow-color-light: rgba(0, 0, 0, 0.1);
            --placeholder-color-light: #7f8c8d;
        }

        .dark-mode {
            --bg-color-light: #2c3e50;
            --text-color-light: #ecf0f1;
            --container-bg-light: #34495e;
            --primary-color-light: #3498db;
            --secondary-color-light: #2980b9;
            --correct-color: #2ecc71;
            --incorrect-color: #e74c3c;
            --border-color-light: #7f8c8d;
            --shadow-color-light: rgba(0, 0, 0, 0.3);
            --placeholder-color-light: #bdc3c7;
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color-light);
            color: var(--text-color-light);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            transition: background-color 0.3s, color 0.3s;
        }

        .quiz-container {
            width: 100%;
            max-width: 700px;
            margin: 20px;
            padding: 30px;
            background-color: var(--container-bg-light);
            border-radius: 12px;
            box-shadow: 0 10px 25px var(--shadow-color-light);
            transition: background-color 0.3s, box-shadow 0.3s;
        }

        /* Header and Mode Toggle */
        h1 {
            text-align: center;
            color: var(--primary-color-light);
            font-weight: 700;
            margin-bottom: 25px;
        }

        .header-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color-light);
        }

        .theme-toggle {
            cursor: pointer;
            padding: 5px 10px;
            border: 2px solid var(--primary-color-light);
            border-radius: 8px;
            font-weight: 600;
            transition: background-color 0.2s, color 0.2s;
        }

        .theme-toggle:hover {
            background-color: var(--primary-color-light);
            color: white;
        }

        /* Progress Bar */
        .progress-bar-container {
            width: 100%;
            background-color: var(--border-color-light);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 25px;
            height: 15px;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background-color: var(--correct-color);
            transition: width 0.4s ease;
        }

        #progress-text {
            font-size: 0.9em;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text-color-light);
            text-align: center;
        }

        /* Question Area */
        #quiz-area {
            min-height: 300px; /* Ensures consistent layout height */
            display: block;
        }

        #question-text {
            font-size: 1.2em;
            margin-bottom: 20px;
            font-weight: 600;
            line-height: 1.5;
            text-align: center;
        }

        #options-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }

        /* Options/Buttons/Inputs */
        .options, #submit-button, #next-button, #restart-button {
            padding: 15px 20px;
            border: 2px solid var(--primary-color-light);
            background-color: transparent;
            color: var(--primary-color-light);
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: background-color 0.2s, color 0.2s, border-color 0.2s, transform 0.1s;
            text-align: center;
            width: 100%;
        }

        .options:hover:not(.selected):not(.correct):not(.incorrect),
        #submit-button:hover, #restart-button:hover {
            background-color: var(--primary-color-light);
            color: white;
            transform: translateY(-1px);
        }

        .options.selected {
            background-color: var(--secondary-color-light);
            color: white;
            border-color: var(--secondary-color-light);
            transform: scale(1.02);
        }

        .options.correct {
            background-color: var(--correct-color);
            color: white;
            border-color: var(--correct-color);
            pointer-events: none; /* Disable clicking after selecting */
        }

        .options.incorrect {
            background-color: var(--incorrect-color);
            color: white;
            border-color: var(--incorrect-color);
            pointer-events: none; /* Disable clicking after selecting */
        }

        .options:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }

        #identification-input {
            width: 100%;
            padding: 15px;
            margin-bottom: 20px;
            border: 2px solid var(--border-color-light);
            border-radius: 8px;
            font-size: 1em;
            box-sizing: border-box;
            color: var(--text-color-light);
            background-color: var(--container-bg-light);
            transition: border-color 0.2s;
        }

        #identification-input::placeholder {
            color: var(--placeholder-color-light);
        }

        #identification-input:focus {
            border-color: var(--primary-color-light);
            outline: none;
        }

        #submit-button, #next-button {
            display: none; /* Controlled by JS */
        }
        
        #submit-button {
            margin-top: 10px;
            background-color: var(--correct-color);
            color: white;
            border-color: var(--correct-color);
        }
        
        #submit-button:hover {
            background-color: #2ecc71;
            box-shadow: 0 4px 8px rgba(39, 174, 96, 0.4);
        }

        #next-button {
            margin-top: 10px;
        }

        /* Feedback Message */
        #feedback-message {
            text-align: center;
            padding: 10px 0;
            margin-bottom: 15px;
            font-weight: 700;
            min-height: 20px;
            border-radius: 8px;
        }

        .correct-feedback {
            color: var(--correct-color);
            background-color: rgba(39, 174, 96, 0.1);
        }

        .incorrect-feedback {
            color: var(--incorrect-color);
            background-color: rgba(231, 76, 60, 0.1);
        }

        /* End Screen */
        #end-screen {
            display: none;
            text-align: center;
        }

        #end-screen h2 {
            color: var(--correct-color);
            margin-bottom: 20px;
        }

        #score-summary {
            background-color: var(--bg-color-light);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border: 1px solid var(--border-color-light);
            text-align: left;
        }

        #score-summary p {
            margin: 8px 0;
            font-size: 1.1em;
        }

        #score-summary strong {
            font-weight: 700;
            color: var(--primary-color-light);
        }

        #wrong-answers-list {
            list-style-type: none;
            padding: 0;
            margin-top: 20px;
            text-align: left;
        }

        #wrong-answers-list li {
            background-color: var(--container-bg-light);
            border: 1px solid var(--incorrect-color);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            box-shadow: 0 2px 5px rgba(231, 76, 60, 0.1);
        }
        
        #restart-button {
            background-color: var(--primary-color-light);
            color: white;
            border-color: var(--primary-color-light);
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div class="header-controls">
            <span id="current-score">Score: 0</span>
            <span class="theme-toggle" id="theme-toggle">☀️ Light Mode</span>
        </div>

        <h1>Computer Programming Reviewer</h1>
        
        <div id="quiz-area">
            <div id="progress-text"></div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            <p id="question-text"></p>
            
            <div id="options-container">
                <!-- Multiple Choice Options are inserted here -->
            </div>

            <input type="text" id="identification-input" placeholder="Type your answer here..." style="display: none;">
            <div id="feedback-message"></div>
            <button id="submit-button">Submit Answer</button>
            <button id="next-button">Next Question</button>
        </div>

        <div id="end-screen">
            <h2>Quiz Complete!</h2>
            
            <div id="score-summary">
                <p>Final Score: <span id="final-score-span">0</span> / <span id="total-questions-span">0</span></p>
                <p>Best Score: <strong id="best-score-span">0</strong></p>
                
                <h3>Incorrect Answers Review:</h3>
                <ul id="wrong-answers-list">
                    <!-- Wrong answers are inserted here -->
                </ul>
            </div>

            <button id="restart-button">Restart Quiz</button>
        </div>

    </div>

    <script>
        //
        // --- START OF QUIZ DATA ---
        // I've added more sample data to make the reviewer more useful!
        //
        const quizData = {
            multipleChoice: [
                // ----------------- Data Types -----------------
                {
                    question: "According to the sources, how are the data types in Java classified?",
                    options: ["Scalar and Vector", "Primitive and Derived", "Primitive and Abstract", "Standard and Custom"],
                    answer: "Primitive and Abstract",
                    explanation: "The data types in Java are classified into two (2): primitive or standard data types and abstract or derived data types."
                },
                {
                    question: "What is the primary characteristic of Primitive Data Types in Java, as stated in the source?",
                    options: ["They are objects with built-in methods.", "They are built into the Java language and are not objects.", "They are only used for text storage.", "They can only hold positive values."],
                    answer: "They are built into the Java language and are not objects.",
                    explanation: "Primitive Data Types are built into the Java language. These are data that are not objects and have no methods."
                },
                {
                    question: "Which of the following is the smallest integer type in Java, representing a small number between -128 and +127 signed?",
                    options: ["Short", "Int", "Byte", "Long"],
                    answer: "Byte",
                    explanation: "Byte: The smallest integer type that represents a small number. It is used to declare a variable holding a natural number between -128 and 127."
                },
                {
                    question: "What is the default initial value for the `boolean` data type when declared as a data member of a class?",
                    options: ["1", "true", "false", "0"],
                    answer: "false",
                    explanation: "Boolean: 'false'"
                },
                {
                    question: "What data type is considered the best choice when an integer is needed because smaller integer values are automatically promoted to it in expressions?",
                    options: ["Byte", "Short", "Int", "Long"],
                    answer: "Int",
                    explanation: "Int: This data type can handle larger numbers and is considered the best choice when an integer is needed because when Byte and Short values are used in an expression, they are promoted to Int automatically."
                },
                {
                    question: "What size, in bits, does the `Double` data type occupy?",
                    options: ["8 bit", "16 bit", "32 bit", "64 bit"],
                    answer: "64 bit",
                    explanation: "Double: '64 bit'"
                },
                {
                    question: "When declaring a `Long` integer literal, what character is placed right after the value?",
                    options: ["f", "D", "L", "d"],
                    answer: "L",
                    explanation: "A capital letter 'L' is placed right after the value."
                },
                {
                    question: "Floating-point types are also called what, and are used when evaluating an expression that needs fractional accuracy?",
                    options: ["Rational numbers", "Complex numbers", "Real numbers", "Imaginary numbers"],
                    answer: "Real numbers",
                    explanation: "Floating points are also called 'real numbers', and are used when evaluating an expression that needs fractional accuracy such as the computation of square root or a transcendental (sine and cosine)."
                },
                {
                    question: "To avoid a compiler error regarding 'possible loss of precision' when assigning a decimal fraction to a `float` variable, what must be appended as a suffix to the number?",
                    options: ["L or l", "F or f", "D or d", "S or s"],
                    answer: "F or f",
                    explanation: "Floating-point literals are numbers that have a decimal fraction. A suffix letter F (lower or uppercase) to the number; otherwise, the compiler will flag about loss of precision."
                },
                {
                    question: "Which data type was created to support Unicode characters in Java, accommodating characters not traditionally used in US English?",
                    options: ["Byte", "String", "Char", "Int"],
                    answer: "Char",
                    explanation: "The Char data type was created to support Unicode characters in Java."
                },
                {
                    question: "What is the size in bits for the `Char` data type in the provided table?",
                    options: ["8 bit", "16 bit", "32 bit", "1 bit"],
                    answer: "8 bit",
                    explanation: "Char: '8 bit'"
                },
                {
                    question: "What is an example of an abstract data type provided in the source material that stores letters, digits, and other characters but does not allow calculations on its variables?",
                    options: ["Int", "Float", "Boolean", "String"],
                    answer: "String",
                    explanation: "For example, String is an abstract data type that can store letters, digits, and other characters such as a slash (/), comma (,), parentheses (()), semi-colon (;), dollar sign ($), and a hashtag (#). Performing calculations on a variable of the string data type is not allowed, even if the data stored in it has digits."
                },
                {
                    question: "In Java, what is the required prefix for a hexadecimal integer literal?",
                    options: ["0b", "0L", "0x", "0"],
                    answer: "0x",
                    explanation: "Hexadecimal is the number prefixed with 0x."
                },
                {
                    question: "What is the range for a `Short` integer?",
                    options: ["-128 to +127", "$-2^{63}$ to $2^{63-1}$", "-32768 to +32767", "+/- about $10^{39}$"],
                    answer: "-32768 to +32767",
                    explanation: "Short: '-32768 to +32767'"
                },
                {
                    question: "Which of the following is NOT a characteristic of a Primitive Data Type in Java?",
                    options: ["They are built into the Java language.", "They have no methods.", "They are objects.", "They are not objects."],
                    answer: "They are objects.",
                    explanation: "Primitive Data Types are built into the Java language. These are data that are not objects and have no methods."
                },
                // ----------------- Variables & Constants -----------------
                {
                    question: "What is the key difference between variables and constants in Java?",
                    options: ["Variables must be declared, but constants do not.", "The value of variables cannot be changed, but constants can.", "The values of variables can be changed, but the value of constants cannot.", "Constants must begin with an underscore, but variables cannot."],
                    answer: "The values of variables can be changed, but the value of constants cannot.",
                    explanation: "The values of variables can be changed in a program, but the value of constants, cannot."
                },
                {
                    question: "Which of the following characters IS allowed in a variable name as a replacement for space?",
                    options: ["@", "#", "_", "!"],
                    answer: "_",
                    explanation: "However, underscores (_) can be used wherever a space is required. For example, monthly_Salary."
                },
                {
                    question: "Which of the following is NOT a valid starting character for a Java variable name?",
                    options: ["A letter", "A digit (0-9)", "A dollar sign ($)", "An underscore (_)"],
                    answer: "A digit (0-9)",
                    explanation: "A variable name must begin with a letter, a dollar sign, or an underscore, which may be followed by a sequence of letters (any case) or digits (0-9), '$', or an underscore."
                },
                {
                    question: "According to Java naming conventions for variables, how should a name containing two or more words be formatted (e.g., camelCase)?",
                    options: ["All words in uppercase.", "Begin all words with a lowercase letter.", "Begin each word with an uppercase letter, except the first word of the second letter.", "Separate all words with a dollar sign ($)."],
                    answer: "Begin each word with an uppercase letter, except the first word of the second letter.",
                    explanation: "If a variable name contains two or more words, begin each word with an uppercase letter. However, the first word will start with a lowercase letter."
                },
                {
                    question: "What happens if a variable declared in a method is not initialized?",
                    options: ["Java assigns a default value automatically.", "The variable is assigned the value 'null'.", "Java returns an error.", "The program proceeds with an undefined value."],
                    answer: "Java returns an error.",
                    explanation: "Java returns an error if the variable declared in a method is not initialized."
                },
                {
                    question: "What are 'Literals' in Java programming?",
                    options: ["The default values assigned to primitive types.", "Keywords that cannot be used as variable names.", "The values that may be assigned to primitive- or string-type variables and constants.", "The names assigned to variables and constants."],
                    answer: "The values that may be assigned to primitive- or string-type variables and constants.",
                    explanation: "Literals are the values that may be assigned to primitive- or string-type variables and constants, such as in the following:"
                },
                {
                    question: "In Java, what kind of quotes must string literals be enclosed in?",
                    options: ["Single quotes (')", "Double quotes (\")", "Backticks (`)", "Parentheses ()"],
                    answer: "Double quotes (\")",
                    explanation: "On the other hand, string literals are enclosed in double quotes (\",\")."
                },
                {
                    question: "What value can be used to represent a newline character as a character literal using a backslash?",
                    options: ["\\n", "\\t", "\\u004E", "\\\\"],
                    answer: "\\n",
                    explanation: "char $d='\\n'$; // A newline"
                },
                {
                    question: "Which of the following variable names is considered **invalid** based on the provided rules?",
                    options: ["student_age", "address", "#phone", "emp_name"],
                    answer: "#phone",
                    explanation: "Invalid: # phone, $1^{st}$ Name."
                },
                {
                    question: "When declaring multiple variables of the same data type, what is used to separate the identifiers in a single declaration statement?",
                    options: ["A semicolon (;)", "A colon (:)", "An ampersand (&)", "A comma (,)"],
                    answer: "A comma (,)",
                    explanation: "To declare more than one (1) variable of the same data type, a comma (,) separated list is used."
                },
                // ----------------- Arithmetic Operators -----------------
                {
                    question: "What is the purpose of the Modulus operator (%) in Java?",
                    options: ["To perform exponentiation.", "To calculate the remainder of an integer division.", "To divide the left operand by the right operand.", "To multiply the operands."],
                    answer: "To calculate the remainder of an integer division.",
                    explanation: "Modulus (%): Calculates the remainder of an integer division"
                },
                {
                    question: "When the '+' operator is used with one String object and one primitive numeric data type, what happens to the primitive numeric data type?",
                    options: ["The operation results in an error.", "The numeric data is converted into an int.", "The numeric data is converted into a string before joining them.", "The string is converted into a number."],
                    answer: "The numeric data is converted into a string before joining them.",
                    explanation: "If one of the operands is a string object, the second operand is converted into a string before joining them."
                },
                {
                    question: "In the expression `Byte var3 = var1 + var2;` where `var1=50` and `var2=120`, why does Java automatically convert the calculation result to the `int` data type?",
                    options: ["Because `byte` variables are slow.", "Because the result (170) exceeds the maximum range of the `Byte` data type (-128 to +127).", "Because all arithmetic operations are always converted to `int`.", "Because `Byte` variables are always promoted to `Short` first."],
                    answer: "Because the result (170) exceeds the maximum range of the `Byte` data type (-128 to +127).",
                    explanation: "var3 results to 170. Since the byte data type can hold a range of -128 to +127, Java automatically converts any calculations of numeric data results to the int data type."
                },
                // ----------------- Assignment & Unary Operators -----------------
                {
                    question: "The assignment expression `x *= z` is equivalent to which long-form expression?",
                    options: ["$x = x + z$", "$x = x / z$", "$x = x * z$", "$x = z * x$"],
                    answer: "$x = x * z$",
                    explanation: "The operator used in $x$ operator $y$ can be represented as $x = x$ operator $y$. Thus, $x*=y$ is equivalent to $x=x*y$."
                },
                {
                    question: "What is the function of the Unary Minus operator (-)?",
                    options: ["Increases the value by 1.", "Decreases the value by 1.", "Represents the positive value.", "Represents the negative value."],
                    answer: "Represents the negative value.",
                    explanation: "Unary Minus (-): Represents the negative value"
                },
                {
                    question: "If `x = 7`, what will be the value of `++x` (pre-increment)?",
                    options: ["6", "7", "8", "9"],
                    answer: "8",
                    explanation: "For pre-increment: Suppose $x=7$ then the value of $++x$ will be 8."
                },
                {
                    question: "If a variable is followed by the increment/decrement operator (e.g., `invar--`), what is this usage called?",
                    options: ["Prefix", "Pre-increment/decrement", "Suffix", "Ternary"],
                    answer: "Suffix",
                    explanation: "As a suffix or post-increment/decrement wherein it follows the variable: invar--;"
                },
                {
                    question: "What does the Logical Complement operator (!) do?",
                    options: ["Converts 1 bits to 0 and 0 bits to 1.", "Inverts the value of a Boolean variable.", "Compares two operands for equality.", "Shifts bits to the left."],
                    answer: "Inverts the value of a Boolean variable.",
                    explanation: "Logical Complement (!): Inverts the value of a Boolean variable"
                },
                // ----------------- Comparison & Shift Operators -----------------
                {
                    question: "Which category are comparison operators (such as $==, !=, >, <$) often referred to?",
                    options: ["Arithmetic Operators", "Logical Operators", "Relational Operators", "Bitwise Operators"],
                    answer: "Relational Operators",
                    explanation: "It is also often called a relational operators."
                },
                {
                    question: "What operator is used to evaluate whether the left operand is greater than or equal to the right operand?",
                    options: ["==", ">", "<=", ">="],
                    answer: ">=",
                    explanation: "Greater Than or Equal to (>=): Evaluates whether the left operand is greater than or equal to the right operand"
                },
                {
                    question: "Which of the following data types CANNOT be used with Shift Operators ($<<, >>, >>>$)?",
                    options: ["int", "long", "char", "boolean"],
                    answer: "boolean",
                    explanation: "These operators can only be used with integer data types."
                },
                {
                    question: "What is the operation of the Right Shift operator (>>) with respect to the bits of the left operand?",
                    options: ["Shifts bits to the left, filling zeros at the right.", "Converts all 1 bits to 0's.", "The bits of the left operand are shifted right by the number specified as the value for the second operand.", "XORs the left and right operands."],
                    answer: "The bits of the left operand are shifted right by the number specified as the value for the second operand.",
                    explanation: "Right Shift (>>): The bits of the left operand are shifted right by the number specified as the value for the second operand."
                },
                {
                    question: "In the Right Unsigned Shift operator ($>>>$), what value is used to replace the bits that are shifted?",
                    options: ["The sign bit", "1", "0", "A random value"],
                    answer: "0",
                    explanation: "Right Unsigned Shift ($>>>$): Works the same as the right shift, but 0 is used and replaces the bits that are shifted."
                },
                // ----------------- Bitwise & Logical Operators -----------------
                {
                    question: "The Bitwise AND operator (&) results in a 1 under what condition?",
                    options: ["If both bits are 0.", "If both the bits are 1.", "If the bits have different values.", "If at least one bit is 1."],
                    answer: "If both the bits are 1.",
                    explanation: "AND (&): AND results in a 1 if both the bits are 1. Any other combination results in 0."
                },
                {
                    question: "Which of the following data types are Bitwise Operators NOT applied to?",
                    options: ["byte", "float", "short", "char"],
                    answer: "float",
                    explanation: "These operators can be applied to byte, int, short, long, and char data types."
                },
                {
                    question: "The Bitwise XOR operator (^) results in a 0 under what condition?",
                    options: ["If both the bits are of the same value.", "If both the bits are 1.", "If the bits have different values.", "If only the right bit is 1."],
                    answer: "If both the bits are of the same value.",
                    explanation: "XOR (^): XOR results in a 0, if both the bits are of the same value and 1 if the bits have different values."
                },
                {
                    question: "Logical Operators ($&&$ and $||$) are limited to what kind of expressions?",
                    options: ["Arithmetic expressions only.", "Integer expressions only.", "Boolean expressions only.", "Any expression that returns a numeric value."],
                    answer: "Boolean expressions only.",
                    explanation: "These operators share a likeness with bitwise operators, but logical operators are limited to Boolean expressions only."
                },
                {
                    question: "For the Logical AND ($&&$) operator, what condition must be met for the entire expression to return `true`?",
                    options: ["If at least one operand is non-zero.", "If only the first operand is true.", "If the operands are both equal to zero.", "If both the operands are non-zero."],
                    answer: "If both the operands are non-zero.",
                    explanation: "Logical AND ($&&$): If both the operands are non-zero, the expression returns true; otherwise, it returns false."
                },
                // ----------------- Conditional Operator & Precedence -----------------
                {
                    question: "What is another common name for the Conditional Operator (?:)?",
                    options: ["Binary operator", "Unary operator", "Ternary operator", "Logical operator"],
                    answer: "Ternary operator",
                    explanation: "The ternary operator is used mainly in loop statements."
                },
                {
                    question: "In the Conditional Operator example `x = (y > z) ? y : z;`, what value is assigned to `x` if the condition `(y > z)` returns **false**?",
                    options: ["y", "z", "The value of y divided by z", "A random value"],
                    answer: "z",
                    explanation: "Evaluates val1 if the condition returns true and val2 if the condition returns false."
                },
                {
                    question: "According to the Order of Precedence table, which category of operators has the highest precedence?",
                    options: ["Unary", "Multiplicative", "High Precedence ([], ())", "Assignment"],
                    answer: "High Precedence ([], ())",
                    explanation: "High Precedence: [], ()"
                },
                {
                    question: "Which of the following operators has the **lowest** precedence according to the Order of Precedence table?",
                    options: ["Multiplicative (*, /, %)", "Conditional (?:)", "Assignment (=, +=, etc.)", "Relational (>, <=)"],
                    answer: "Assignment (=, +=, etc.)",
                    explanation: "The table shows those with the same level of precedence are listed in the same row. Assignment is the last category listed."
                },
                {
                    question: "Which operator category shares the same level of precedence as the Subtraction (-) operator?",
                    options: ["Unary", "Multiplicative (*, /, %)", "Additive (+, -)", "Shift (<<, >>)"],
                    answer: "Additive (+, -)",
                    explanation: "Additive: +, -"
                },
                // ----------------- Expressions -----------------
                {
                    question: "What is an expression defined as in Java?",
                    options: ["A single variable declaration.", "A combination of variables, constants, literals, and operators to produce a single value.", "A keyword used for control flow.", "A variable used for storing characters."],
                    answer: "A combination of variables, constants, literals, and operators to produce a single value.",
                    explanation: "An expression is a combination of variables, constants, literals, and operators to produce a single value."
                },
                {
                    question: "What type of expression is `boolean result = x < y;`?",
                    options: ["Assignment Expression", "Arithmetic Expression", "Logical Expression", "Relational Expression"],
                    answer: "Relational Expression",
                    explanation: "Relational Expression: It is an expression that compares values using relational operators."
                },
                {
                    question: "What type of expression is the last line in the following code snippet: `int a = 8; a = a + 4;`?",
                    options: ["Arithmetic Expression", "Assignment Expression", "Conditional Expression", "Relational Expression"],
                    answer: "Assignment Expression",
                    explanation: "Assignment Expression: The last line is an assignment expression that adds 4 to the value of a and assigns the result back to a."
                },
                {
                    question: "What must an expression be followed by to be considered an 'expression statement' that is evaluated by the Java compiler?",
                    options: ["A comma (,)", "A colon (:)", "A semicolon (;)", "A period (.)"],
                    answer: "A semicolon (;)",
                    explanation: "In Java, an expression statement consists of an expression followed by a semicolon (;) to evaluate an expression and disregard the result."
                },
                {
                    question: "What type of expression involves the use of the ternary operator (?:) to assign a value based on a condition?",
                    options: ["Logical Expression", "Relational Expression", "Conditional Expression", "Arithmetic Expression"],
                    answer: "Conditional Expression",
                    explanation: "Conditional Expression: It is an expression involving the use of the ternary operator (?:) to assign a value based on a condition."
                },
                // ----------------- Additional MCQs -----------------
                {
                    question: "What is the default initial value for the `Int` data type when declared as a data member of a class?",
                    options: ["'\\u0000'", "0.0", "0L", "0"],
                    answer: "0",
                    explanation: "Int: '0'"
                },
                {
                    question: "In the expression `int x = 0x4A8;`, what type of literal is `0x4A8`?",
                    options: ["Octal Literal", "Binary Literal", "Hexadecimal Literal", "Decimal Literal"],
                    answer: "Hexadecimal Literal",
                    explanation: "Hexadecimal is the number prefixed with 0x."
                },
                {
                    question: "Which of the following is an example of an illegal use of the underscore (_) in a numeric literal?",
                    options: ["int $six = 6$", "int $i=\\_1\\_\\theta\\theta\\_000$", "int $x = 0xfffff$", "int $b2=0b01010101$"],
                    answer: "int $i=\\_1\\_\\theta\\theta\\_000$",
                    explanation: "A reminder that an underscore (_) at the start and end of a literal is not allowed, such as: int $i=\\_1\\_\\theta\\theta\\_000$; //illegal, begin with \"\""
                },
                {
                    question: "What is the term for a value that is stored in memory that can be changed in a program?",
                    options: ["Constant", "Literal", "Keyword", "Variable"],
                    answer: "Variable",
                    explanation: "The values of variables can be changed in a program, but the value of constants, cannot."
                },
                {
                    question: "What is the effect of the Logical OR ($||$) operator?",
                    options: ["Returns true if both operands are true.", "Returns false if both operands are non-zero.", "Returns true if both operands are zero.", "Returns true if one or both the operands are non-zero."],
                    answer: "Returns true if one or both the operands are non-zero.",
                    explanation: "Logical OR ($||$): If one or both the operands are non-zero, the expression returns true; otherwise, it returns FALSE."
                }
            ],
            identification: [
                {
                    question: "What are symbols used to compute and compare values and test multiple conditions?",
                    correctAnswers: ["Operators", "OPERATORS"],
                    explanation: "Operators are symbols used to compute and compare values and test multiple conditions."
                },
                {
                    question: "What data type is used for logical values and can only hold `true` or `false` values?",
                    correctAnswers: ["Boolean", "BOOLEAN"],
                    explanation: "This data type is used for logical values and can only hold true or false values."
                },
                {
                    question: "What is the term for the value to be computed when using arithmetic operators?",
                    correctAnswers: ["Operand", "OPERAND"],
                    explanation: "An operand is the value to be computed."
                },
                {
                    question: "What is the process called where the increment/decrement operator precedes the variable, such as `++invar`?",
                    correctAnswers: ["Pre-increment/decrement", "Pre-increment", "Pre-decrement", "PRE-INCREMENT/DECREMENT"],
                    explanation: "As a prefix or pre-increment/decrement wherein it precedes the variable: ++invar;"
                },
                {
                    question: "Which bitwise operator converts all '1' bits to '0's and all '0' bits to '1's?",
                    correctAnswers: ["Inversion", "INVERSION", "Bitwise Inversion"],
                    explanation: "Inversion (~): Converts all 1 bits to 0's and all 0 bits to 1's"
                },
                {
                    question: "What category of operators includes the $<<, >>$, and $>>>$ symbols?",
                    correctAnswers: ["Shift", "Shift Operators", "SHIFT"],
                    explanation: "Shift: $<<, >>, >>>$"
                },
                {
                    question: "What is the range of the `Byte` data type?",
                    correctAnswers: ["-128 to +127 signed", "-128 to 127", "negative 128 to positive 127"],
                    explanation: "Byte: '-128 to +127 signed'"
                },
                {
                    question: "What kind of data type in Java is `String` considered, as it is based on primitive types but with more functionality?",
                    correctAnswers: ["Abstract Data Type", "Abstract", "Derived Data Type", "Derived", "ABSTRACT DATA TYPE"],
                    explanation: "These are based on primitive data types but with more functionality. For example, String is an abstract data type..."
                },
                {
                    question: "What kind of literals are represented as a number with a zero (0) prefixed?",
                    correctAnswers: ["Octal literals", "Octal", "OCTAL"],
                    explanation: "Octal is the number with a zero prefixed."
                },
                {
                    question: "What data type is described as a 'Single Precision Floating Point' and takes half the space of a double precision?",
                    correctAnswers: ["Float", "FLOAT", "Single Precision Floating Point"],
                    explanation: "Float is described as a single precision floating point. A real number qualifies as a single precession when it only needs a limited number of bits. Single precision takes half the space of a double precision and is much faster on some processors."
                },
                {
                    question: "In the context of variables, what is defined by the combination of an identifier, a type, and an optional initialization?",
                    correctAnswers: ["Variable", "VARIABLE"],
                    explanation: "A variable is defined by the combination of an identifier, a type, and an optional initialization depending on the task to be performed."
                },
                {
                    question: "What is the default initial value for an Abstract Data Type (like String) when declared as a data member of a class?",
                    correctAnswers: ["Null", "NULL"],
                    explanation: "Abstract Data Type: 'Null'"
                },
                {
                    question: "Which arithmetic operator is represented by the symbol `*`?",
                    correctAnswers: ["Multiplication", "MULTIPLICATION"],
                    explanation: "Multiplication (*): Multiples the operands"
                },
                {
                    question: "What is the concept that shows the hierarchy wherein an operation with high precedence is performed before the others?",
                    correctAnswers: ["Order of Precedence", "Precedence", "ORDER OF PRECEDENCE"],
                    explanation: "Order of Precedence shows the hierarchy wherein an operation with high precedence is performed before the others."
                },
                {
                    question: "What is the term for a constant value whose value cannot be changed in a program?",
                    correctAnswers: ["Constant", "CONSTANT"],
                    explanation: "The values of variables can be changed in a program, but the value of constants, cannot."
                },
                {
                    question: "What operator is used for 'Not Equal to' comparison?",
                    correctAnswers: ["!=", "Not Equal to", "NOT EQUAL TO"],
                    explanation: "Not Equal to (!=): Evaluates whether the operands are not equal"
                },
                {
                    question: "What is the prefix used in Java to represent a binary literal?",
                    correctAnswers: ["0B or 0b", "0b", "0B", "Binary prefix"],
                    explanation: "Binary Literal is the number that starts with 0B or 0b."
                },
                {
                    question: "What is the term for an expression that returns a numeric value based on the operators and operands used?",
                    correctAnswers: ["Arithmetic Expression", "Arithmetic", "ARITHMETIC EXPRESSION"],
                    explanation: "It is an expression that returns a numeric value based on the operators and operands used."
                },
                {
                    question: "What assignment operator is equivalent to $x = x / z$?",
                    correctAnswers: ["/=", "Divide and Assignment"],
                    explanation: "Divide and Assignment (/=): Divides the left operand by the right operand and stores the result in the left operand"
                },
                {
                    question: "The Conditional Operator uses which three symbols?",
                    correctAnswers: ["? :", "Question mark colon"],
                    explanation: "Ternary: (condition)? val1:val2"
                }
            ]
        };
        //
        // --- END OF QUIZ DATA ---
        //

        let currentQuestionIndex = 0;
        let score = 0;
        let answered = false;
        let wrongAnswers = [];
        const totalQuestions = quizData.multipleChoice.length + quizData.identification.length;

        // --- DOM Elements ---
        const quizArea = document.getElementById('quiz-area');
        const endScreen = document.getElementById('end-screen');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const identificationInput = document.getElementById('identification-input');
        const nextButton = document.getElementById('next-button');
        const submitButton = document.getElementById('submit-button');
        const feedbackMessage = document.getElementById('feedback-message');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const restartButton = document.getElementById('restart-button');
        const finalScoreSpan = document.getElementById('final-score-span');
        const totalQuestionsSpan = document.getElementById('total-questions-span');
        const bestScoreSpan = document.getElementById('best-score-span');
        const wrongAnswersList = document.getElementById('wrong-answers-list');
        const currentScoreSpan = document.getElementById('current-score');
        const themeToggle = document.getElementById('theme-toggle');

        // --- Utility Functions (Cookies) ---
        function setCookie(name, value, days) {
            let expires = "";
            if (days) {
                const date = new Date();
                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                expires = "; expires=" + date.toUTCString();
            }
            document.cookie = name + "=" + (value || "") + expires + "; path=/";
        }

        function getCookie(name) {
            const nameEQ = name + "=";
            const ca = document.cookie.split(';');
            for (let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) === ' ') c = c.substring(1, c.length);
                if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
            }
            return null;
        }

        // --- Core Quiz Logic ---

        function updateScoreDisplay() {
            currentScoreSpan.textContent = `Score: ${score}`;
        }

        function updateProgressBar() {
            // Use currentQuestionIndex + 1 because the progress should show the number of questions completed/viewed
            const progress = ((currentQuestionIndex) / totalQuestions) * 100; 
            progressBar.style.width = `${progress}%`;
        }
        
        function updateProgressBarToNext() {
            // Update progress bar to show the next question is being loaded
            const progress = ((currentQuestionIndex + 1) / totalQuestions) * 100;
            progressBar.style.width = `${progress}%`;
        }

        function selectOption(selectedButton, selectedAnswer) {
            if (answered) return;

            const currentQuizData = quizData.multipleChoice[currentQuestionIndex];
            const isCorrect = selectedAnswer === currentQuizData.answer;

            answered = true;
            nextButton.style.display = 'block';

            // Disable all options
            optionsContainer.querySelectorAll('.options').forEach(button => {
                button.disabled = true;
                if (button.textContent === currentQuizData.answer) {
                    button.classList.add('correct');
                }
                if (button === selectedButton && !isCorrect) {
                    button.classList.add('incorrect');
                }
            });

            if (isCorrect) {
                score++;
                feedbackMessage.textContent = "Correct! Well done.";
                feedbackMessage.classList.add('correct-feedback');
            } else {
                feedbackMessage.textContent = `Incorrect. The correct answer was: ${currentQuizData.answer}`;
                feedbackMessage.classList.add('incorrect-feedback');
                wrongAnswers.push({
                    question: currentQuizData.question,
                    yourAnswer: selectedAnswer,
                    correctAnswer: currentQuizData.answer
                });
            }
            updateScoreDisplay();
        }
        
        function checkIdentificationAnswer() {
            if (answered) return;
            
            const identificationIndex = currentQuestionIndex - quizData.multipleChoice.length;
            const currentQuizData = quizData.identification[identificationIndex];
            
            const currentInput = identificationInput.value.trim(); 
            const normalizedInput = currentInput.toLowerCase(); // Normalize user input
            
            // --- FIX IMPLEMENTED HERE: Check input against the array of correct answers ---
            const isCorrect = currentQuizData.correctAnswers.some(correctAnswer => 
                correctAnswer.toLowerCase() === normalizedInput
            );
            
            // Get the primary answer for feedback (using the first one in the array)
            const primaryCorrectAnswer = currentQuizData.correctAnswers[0];

            answered = true;
            submitButton.style.display = 'none';
            nextButton.style.display = 'block';
            identificationInput.disabled = true;

            if (isCorrect) {
                score++;
                feedbackMessage.textContent = "Correct! Well done.";
                feedbackMessage.classList.add('correct-feedback');
                identificationInput.style.borderColor = 'var(--correct-color)';
            } else {
                feedbackMessage.textContent = `Incorrect. The correct answer was: ${primaryCorrectAnswer}`;
                feedbackMessage.classList.add('incorrect-feedback');
                identificationInput.style.borderColor = 'var(--incorrect-color)';
                wrongAnswers.push({
                    question: currentQuizData.question,
                    yourAnswer: currentInput || "(No answer provided)",
                    correctAnswer: primaryCorrectAnswer
                });
            }
            updateScoreDisplay();
        }

        function showQuestion() {
            if (totalQuestions === 0) {
                quizArea.innerHTML = "<h2>No questions found! Please add questions to the quizData object.</h2>";
                return;
            }

            // If we've advanced past the last index, show the end screen
            if (currentQuestionIndex >= totalQuestions) {
                showEndScreen();
                return;
            }

            answered = false;
            feedbackMessage.textContent = '';
            feedbackMessage.classList.remove('correct-feedback', 'incorrect-feedback');
            identificationInput.style.borderColor = 'var(--border-color-light)';
            identificationInput.disabled = false;
            
            let currentQuizData;

            if (currentQuestionIndex < quizData.multipleChoice.length) {
                // --- Multiple Choice Section ---
                currentQuizData = quizData.multipleChoice[currentQuestionIndex];
                
                // Element visibility
                optionsContainer.style.display = 'flex';
                identificationInput.style.display = 'none';
                submitButton.style.display = 'none';
                nextButton.style.display = 'none';

                // Question and Options
                questionText.textContent = currentQuizData.question;
                optionsContainer.innerHTML = '';
                
                // Create option buttons
                currentQuizData.options.forEach(option => { 
                    const button = document.createElement('button');
                    button.classList.add('options');
                    button.textContent = option;
                    button.onclick = () => selectOption(button, option);
                    optionsContainer.appendChild(button);
                });
                
                // Progress Text
                progressText.textContent = `Question ${currentQuestionIndex + 1} of ${totalQuestions} (Multiple Choice)`;

            } else {
                // --- Identification Section ---
                const identificationIndex = currentQuestionIndex - quizData.multipleChoice.length;
                currentQuizData = quizData.identification[identificationIndex];
                
                // Element visibility
                optionsContainer.style.display = 'none';
                identificationInput.style.display = 'block';
                submitButton.style.display = 'block';
                nextButton.style.display = 'none';

                // Question and Input
                questionText.textContent = currentQuizData.question;
                identificationInput.value = ''; // Clear previous input
                
                // Progress Text
                progressText.textContent = `Question ${currentQuestionIndex + 1} of ${totalQuestions} (Identification)`;
            }
            
            updateProgressBar();
            updateScoreDisplay();
        }

        function showEndScreen() {
            updateProgressBarToNext(); // Fill the bar completely
            quizArea.style.display = 'none';
            endScreen.style.display = 'block';
            finalScoreSpan.textContent = score;
            totalQuestionsSpan.textContent = totalQuestions;

            const currentBestScore = parseInt(getCookie("bestScore") || '0', 10);
            if (score > currentBestScore) {
                setCookie("bestScore", score, 365);
                bestScoreSpan.textContent = score;
            } else {
                bestScoreSpan.textContent = currentBestScore;
            }

            // Display Wrong Answers
            wrongAnswersList.innerHTML = '';
            if (wrongAnswers.length > 0) {
                wrongAnswers.forEach(item => {
                    const li = document.createElement('li');
                    li.innerHTML = `<strong>Q:</strong> ${item.question}<br><strong>Your Answer:</strong> ${item.yourAnswer}<br><strong>Correct Answer:</strong> ${item.correctAnswer}`;
                    wrongAnswersList.appendChild(li);
                });
            } else {
                wrongAnswersList.innerHTML = "<li>You got all questions right! 🎉</li>";
            }
        }
        
        // --- Event Listeners and Initialization ---

        nextButton.addEventListener('click', () => {
            // Update progress bar to show the question has been completed
            updateProgressBarToNext(); 
            // Delay moving to the next question slightly for the progress bar animation
            setTimeout(() => {
                currentQuestionIndex++;
                showQuestion();
            }, 200);
        });

        submitButton.addEventListener('click', checkIdentificationAnswer);

        restartButton.addEventListener('click', () => {
            currentQuestionIndex = 0;
            score = 0;
            wrongAnswers = [];
            endScreen.style.display = 'none';
            quizArea.style.display = 'block';
            showQuestion();
        });

        // Theme Toggle Logic
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            if (document.body.classList.contains('dark-mode')) {
                themeToggle.textContent = '🌙 Dark Mode';
                setCookie('theme', 'dark', 365);
            } else {
                themeToggle.textContent = '☀️ Light Mode';
                setCookie('theme', 'light', 365);
            }
        });

        // Load theme from cookie and Initialize the quiz
        window.onload = () => {
            const savedTheme = getCookie('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                themeToggle.textContent = '🌙 Dark Mode';
            } else {
                document.body.classList.remove('dark-mode');
                themeToggle.textContent = '☀️ Light Mode';
            }
            showQuestion(); 
        };

    </script>
</body>
</html>